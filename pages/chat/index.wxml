<view class="pageContainer">
    <!-- <view class="topArea"> -->
    <scroll-view scroll-y="{{animate}}" scroll-with-animation="{{animate}}" class="scroll-container"  scroll-into-view="msg{{num}}">
        <view wx:for="{{messageArray}}" wx:for-index="idx" wx:for-item="itemName" wx:key='itemName' class='item' id="msg{{itemName.id}}">
        <!--自己  -->
            <view class="selfMessage clearfix" wx:if="{{itemName.type == 'self'}}">
                <view class="nameInfo">
                  <image src="{{userInfo.avatarUrl}}" class='user-avatar'></image>
                </view>
                <view class="detailMessage" wx:if="{{itemName.isText}}">{{itemName.message}}</view>
                <image src="{{itemName.message}}"  wx:else class='detailImage' mode='scaleToFill'></image>
            </view>
            <!--别人  -->
            <view class="otherMessage clearfix" wx:else>
                <view class="nameInfo">
                <!-- {{itemName.name+ " " }} -->
                  <image src='{{itemName.avatarUrl}}' class='user-avatar'></image>
                </view>
                <view class="detailMessage" wx:if="{{itemName.isText}}">{{itemName.message}}</view>
                <image src="{{itemName.message}}" wx:else class='detailImage' mode='scaleToFill'></image>
            </view>
        </view>
    <!-- </view> -->
    </scroll-view>
    <image src="../../res/left-top.png" alt="" class="left-top-img fly-all1"></image>
    <image src="../../res/lb.png" alt="" class="left-bottom-img fly-all2"></image>
    <image src="../../res/rb.png" alt="" class="right-bottom-img fly-all3"></image>
    <image src="../../res/rb2.png" alt="" class="right-bottom-img2 fly-all4"></image>
    <image src="../../res/entry-circle.png" alt="" class="ertry-circle-img fly-all1"></image>

    <view class="bottomArea">
         <!-- <form bindreset="send">  -->
         <form wx:if="{{isLogin}}"> 
            <view class="inputArea" >
            <!--点击完成按钮时触发  -->
                <input type="text" placeholder="{{placeholderText}}" placeholder-class='placeholder-btn' class="message" bindinput="bindKeyInput" bindconfirm="send"  value="{{inputValue}}" bindfocus='focus' style="margin-bottom:{{focusHeight}}"/>
                <view class='btn-group'>
                  <view class='emoj-btn' bindtap='showEmoj'>
                    <image src='/res/emoj.png'></image>
                  </view>
                  <view class='photo-btn' bindtap='showPhone'>
                    <image src='/res/photo.png'></image>
                  </view>
                </view>
            </view>
              <!-- <button size="default" type="primary" form-type="reset" class="sendButton">发送</button>   -->
        </form>
        <view class='login-btn' wx:else>
          <button size="default" type="default" open-type="getUserInfo" bindgetuserinfo="updateUserInfo" class="sendButton"  >请输入</button>
          <view class='btn-group'>
          <!-- //emoj -->
            <view class='emoj-btn' bindtap='showEmoj'>
              <image src='/res/emoj.png'></image>
            </view>
            <!-- //拍照 -->
            <view class='photo-btn' bindtap='showPhone'>
              <image src='/res/photo.png'></image>
            </view>
          </view>        
        </view>
    </view>
    <!--gift组件  -->
    <view class='gift-icon' bindtap='showGiftComponent'>
      <image src='./../../res/gift.png'></image>
    </view>
    <gift-component wx:if="{{showGift}}" bindclose='close' bindsendGift='sendGift' showGift='{{showGift}}' roomId='{{roomId}}'></gift-component>

</view>